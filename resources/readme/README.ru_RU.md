<div align="center">

![PalworldSaveTools Логотип](resources/PalworldSaveTools_Blue.png)

# PalworldSaveTools

**Комплексный набор инструментов для редактирования файлов сохранений для Palworld**

[![Загрузки](https://img.shields.io/github/downloads/deafdudecomputers/PalworldSaveTools/total)](https://github.com/deafdudecomputers/PalworldTools/releases/latest)
[![Лицензия](https://img.shields.io/github/license/deafdudecomputers/PalworldSaveTools)](LICENSE)
[![Discord](https://img.shields.io/badge/Discord-Join_for_support-blue)](https://discord.gg/sYcZwcT4cT)
[![NexusMods](https://img.shields.io/badge/NexusMods-Download-orange)](https://www.nexusmods.com/palworld/mods/3190)

[Английский](resources/readme/README.en_US.md) | [简体中文](resources/readme/README.zh_CN.md) | [Deutsch](resources/readme/README.de_DE.md) | [Español](resources/readme/README.es_ES.md) | [Français](resources/readme/README.fr_FR.md) | [Русский](resources/readme/README.ru_RU.md) | [日本語](resources/readme/README.ja_JP.md) | [한국어](resources/readme/README.ko_KR.md)

---

### **Download the standalone version from [GitHub Релизы](https://github.com/deafdudecomputers/PalworldSaveTools/releases/latest)**

---

</div>

## Table of Contents

- [Features](#функции)
- [Installation](#installation)
- [Quick Start](#быстрый старт)
- [Обзор инструментов](#tools-overview)
- [Руководства](#guides)
- [Troubleshooting](#устранение неполадок)
- [Contributing](#вклад)
- [Лицензия](#лицензия)

---

## Features

### Основная функциональность

| Особенность | Описание |
| --------- | ------------- |
| **Быстрый анализ сохранения** | Одна из самых быстрых доступных программ чтения сохраненных файлов. |
| **Управление игроками** | Просматривайте, редактируйте, переименовывайте, меняйте уровень, разблокируйте технологии и управляйте игроками. |
| **Управление гильдией** | Создавайте, переименовывайте, перемещайте игроков, разблокируйте лабораторные исследования и управляйте гильдиями. |
| **Приятель, редактор** | Полный редактор статистики, навыков, IV, ранга, душ, пола, переключения босса/счастливчика. |
| **Инструменты базового лагеря** | Экспортируйте, импортируйте, клонируйте, корректируйте радиус и управляйте базами. |
| **Просмотр карт** | Интерактивная карта базы и игрока с координатами и деталями. |
| **Перенос персонажа** | Перенос персонажей между разными мирами/серверами (кросс-сохранение) |
| **Сохранить конверсию** | Преобразование между форматами Steam и GamePass. |
| **Настройки мира** | Измените настройки WorldOption и LevelMeta. |
| **Инструменты для создания временных меток** | Исправьте отрицательные временные метки и сбросьте время игроков. |

### Универсальные инструменты

Пакет **Инструменты «Все в одном»** обеспечивает комплексное управление сохранениями:

- **Инструменты удаления**
  - Удалить Players, базы или гильдии
  - Удаление неактивных игроков на основе временных ограничений
  - Удаление дубликатов игроков и пустых гильдий
  - Удалить неиспользуемые/потерянные данные

- **Инструменты очистки**
  - Удалить недействительные/модифицированные элементы
  - Удалить недействительных приятелей и пассивки
  - Исправлены нелегальные друзья (ограничение легальной максимальной статистики)
  - Удалить недопустимые структуры
  - Сброс зенитных турелей
  - Разблокировать частные сундуки

- **Инструменты гильдии**
  - Восстановить все гильдии
  - Перемещайте игроков между гильдиями
  - Сделать игрока лидером гильдии
  - Переименовывать гильдии
  - Максимальный уровень гильдии
  - Разблокировать все лабораторные исследования

- **Инструменты игрока**
  - Редактировать статистику и навыки приятеля игрока
  - Разблокировать все технологии
  - Разблокировать смотровую клетку
  - Повышение/понижение уровня игроков
  - Переименовывать игроков

- **Сохранить утилиты**
  - Сбросить миссии
  - Сбросить подземелья
  - Исправить временные метки
  - Обрезать переполненные запасы
  - Генерировать команды PalDefender

### Дополнительные инструменты

| Инструмент | Описание |
| ------ | ------------- |
| **Изменить друзей игроков** | Полноценный редактор приятелей со статистикой, навыками, IV, талантами, душами, рангом и полом. |
| **SteamКонвертер идентификаторов** | Преобразовать идентификаторы Steam в Palworld UIDs |
| **Исправить сохранение хоста** | Обмен UID между двумя игроками (например, для обмена хостами) |
| **Заменить игрока UIDs** | Обменяйтесь UID между двумя игроками. |
| **Слот-инжектор** | Увеличение количества слотов для палбоксов на игрока |
| **Восстановить карту** | Применить разблокированный прогресс карты во всех мирах/серверах. |
| **Переименовать мир** | Изменить название мира в LevelMeta |
| **WorldOption Редактор** | Редактировать настройки и конфигурацию мира |
| **LevelMeta Редактор** | Редактировать метаданные мира (имя, хост, уровень) |
| **Конвертер координат** | Преобразование внутриигровых координат |

---

## Installation

### Предварительные условия

**Для автономного режима (Windows):**
- Windows 10/11
- [Microsoft Visual C++ Redistributable](https://learn.microsoft.com/en-us/cpp/windows/latest-supported-vc-redist?view=msvc-170#latest-microsoft-visual-c-redistributable-version) (2015–2022 гг.)

**Для запуска из исходного кода (Linux или разработки):**
- Python 3.10 или выше
- pip (менеджер пакетов Python)

### Автономный (Windows — рекомендуется)

1. Загрузите последнюю версию из [GitHub Releases](https://github.com/deafdudecomputers/PalworldSaveTools/releases/latest).
2. Извлеките zip-файл
3. Запустите `PalworldSaveTools.exe`

### Из исходного кода (Linux или для разработки)

```bash
git clone https://github.com/deafdudecomputers/PalworldSaveTools.git
cd PalworldSaveTools
pip install -r requirements.txt
python start.py
```

---

## Quick Start

1. **Загрузите сохранение**
   - Нажмите **Файл → Загрузить сохранение**.
   - Перейдите в папку сохранения Palworld.
   - Выберите `Level.sav`

2. **Изучите свои данные**
   - Используйте вкладки для просмотра Players, гильдий, баз или карты.
   - Ищите и фильтруйте, чтобы найти конкретные записи

3. **Внести изменения**
   - Выберите элементы для редактирования, удаления или изменения
   - Используйте контекстные меню для дополнительных опций

4. **Сохраните изменения**
   - Нажмите **Файл → Сохранить изменения**.
   - Резервные копии создаются автоматически

---

## Обзор инструментов

### Универсальные инструменты (AIO)

Основной интерфейс для комплексного управления сохранениями с тремя вкладками:

**Players Вкладка** — просмотр и управление всеми игроками на сервере.
- Редактируйте имена игроков, уровни и количество друзей.
- Удаление неактивных игроков
- Просмотр гильдий игроков и последнего времени онлайн

**Вкладка «Гильдии»** — управляйте гильдиями и их базами.
- Переименовывайте гильдии, меняйте лидеров
- Просмотр базовых локаций и уровней
- Удалить пустые или неактивные гильдии

**Вкладка «Базы»** – просмотр всех базовых лагерей.
- Экспорт/импорт базовых чертежей
- Клонировать базы в другие гильдии
- Отрегулировать базовый радиус

### Просмотр карт

Интерактивная визуализация вашего мира:
- Просмотр всех базовых локаций и позиций игроков
- Фильтровать по гильдии или имени игрока
- Нажмите маркеры для получения подробной информации
- Сгенерируйте команды `killnearestbase` для PalDefender

### Перенос персонажей

Перенос персонажей между разными мирами/серверами (кросс-сохранение):
- Трансфер одного или всех игроков
- Сохраняет персонажей, друзей, инвентарь и технологии.
- Полезно для перехода между кооперативом и dedicated servers.

### Исправить сохранение хоста

Обменяйте UID между двумя игроками:
- Передача прогресса от одного игрока к другому
- Необходим для host/co-op для передачи данных на сервер
- Полезно для смены роли хоста между игроками.
- Полезно для смены платформ (Xbox ↔ Steam)
- Устраняет проблемы с назначением хоста/сервера UID.
- **Примечание:** Affected player must have a character created on the target save first

---

## Руководства

### Сохранить расположение файлов

**Хозяин/Кооператив:**
```
%localappdata%\Pal\Saved\SaveGames\YOURID\RANDOMID\
```

**Выделенный сервер:**
```
steamapps\common\Palworld\Pal\Saved\SaveGames\0\RANDOMSERVERID\
```

### Разблокировка карты

<подробности>
<summary>Нажмите, чтобы развернуть инструкции по разблокировке карты</summary>

1. Скопируйте `LocalData.sav` из `src\resources\`
2. Найдите папку сохранения на своем сервере/мире.
3. Замените существующий `LocalData.sav` скопированным файлом.
4. Запустите игру с полностью разблокированной картой.

> **Примечание.** Используйте опцию **Инструменты → Восстановить карту** в PST, чтобы применить разблокированную карту ко ВСЕМ вашим мирам/серверам одновременно с автоматическим резервным копированием.

</подробнее>

### Хост → Перенос сервера

<подробности>
<summary>Нажмите, чтобы развернуть руководство по переносу с хоста на сервер</summary>

1. Скопируйте папки `Level.sav` и `Players` из сохранения хоста.
2. Вставить в папку сохранения dedicated server.
3. Запустить сервер, создать нового персонажа
4. Подождите автосохранения, затем закройте
5. Используйте **Fix Host Save** для переноса GUIDs.
6. Скопируйте файлы обратно и запустите

**Использование сохранения Fix Host:**
- Выберите `Level.sav` из временной папки.
- Выберите **старого персонажа** (из исходного сохранения).
- Выберите **нового персонажа** (только что созданного).
- Нажмите **Перенести**.

</подробнее>

### Смена хоста (смена хоста)

<подробности>
<summary>Нажмите, чтобы развернуть руководство по замене хоста</summary>

**Фон:**
- Хост всегда использует `0001.sav` — тот же UID для любого хостера.
- Каждый клиент использует уникальное обычное сохранение UID (например, `123xxx.sav`, `987xxx.sav`).

**Предварительные требования:**
У обоих игроков (старого и нового хоста) должны быть созданы обычные сохранения. Это происходит путем присоединения к миру хозяина и создания нового персонажа.

**Шаги:**

1. **Убедитесь, что существуют регулярные сохранения**
   - Игрок А (старый хост) должен иметь обычное сохранение (например, «123xxx.sav»).
   - Игрок Б (новый хост) должен иметь обычное сохранение (например, «987xxx.sav»).

2. **Замените сохранение хоста старого хоста на обычное сохранение**
   - Используйте PalworldSaveTools **Исправить сохранение хоста**, чтобы поменять местами:
   - Старый хост `0001.sav` → `123xxx.sav`
   - (Это переместит прогресс старого хоста из слота хоста в слот обычного игрока)

3. **Заменить обычное сохранение нового хоста на сохранение хоста**
   - Используйте PalworldSaveTools **Исправить сохранение хоста**, чтобы поменять местами:
   - Новый хост `987xxx.sav` → `0001.sav`
   - (Это перемещает прогресс нового хоста в слот хоста)

**Результат:**
- Игрок Б теперь является ведущим со своим персонажем и друзьями в «0001.sav».
- Игрок А становится клиентом со своим первоначальным прогрессом в «123xxx.sav».

</подробнее>

### Базовый экспорт/импорт

<подробности>
<summary>Нажмите, чтобы развернуть базовое руководство по экспорту/импорту</summary>

**Экспорт базы:**
1. Загрузите сохранение в PST.
2. Перейдите на вкладку «Базы».
3. Щелкните базу правой кнопкой мыши → Экспортировать базу.
4. Сохранить как файл `.json`

**Импорт базы:**
1. Перейдите на вкладку «Базы» или в средство просмотра базовых карт.
2. Щелкните правой кнопкой мыши по гильдии, в которую вы хотите импортировать базу.
3. Выберите базу импорта
4. Выберите экспортированный файл `.json`.

**Клонирование базы:**
1. Щелкните базу правой кнопкой мыши → Клонировать базу.
2. Выберите целевую гильдию
3. База будет клонирована со смещением позиционирования.

**Регулировка базового радиуса:**
1. Щелкните базу правой кнопкой мыши → Отрегулировать радиус.
2. Введите новый радиус (50–1000 %).
3. Сохраните и загрузите сохранение в игре для переназначения структур.

</подробнее>

---

## Troubleshooting

### "VCRUNTIME140.dll не найден"

**Solution:** Install [Microsoft Visual C++ Redistributable](https://learn.microsoft.com/en-us/cpp/windows/latest-supported-vc-redist?view=msvc-170#latest-microsoft-visual-c-redistributable-version)

### `struct.error` when parsing save

**Причина:** Устаревший формат файла сохранения.

**Решение:**
1. Загрузите сохранение в игре (режим «Одиночка», «Кооператив» или «Выделенный сервер»).
2. Это запускает автоматическое обновление структуры.
3. Убедитесь, что сохранение было обновлено после выхода последнего обновления игры.

### GamePass конвертер не работает

**Решение:**
1. Закройте версию GamePass Palworld.
2. Подождите несколько минут
3. Запустите конвертер Steam → GamePass.
4. Запустите Palworld на GamePass для проверки.

---

## Сборка из исходного кода

```bash
# Clone the repository
git clone https://github.com/deafdudecomputers/PalworldSaveTools.git

# Install dependencies
pip install -r requirements.txt

# Run the application
python start.py
```

Для сборки автономного исполняемого файла используйте сценарий сборки:
```bash
python scripts/build.py
```

---

## Contributing

Вклады приветствуются! Пожалуйста, не стесняйтесь отправить запрос на включение.

1. Форкнуть репозиторий
2. Создайте свою ветку функций (`git checkout -b Feature/AmazingFeature`)
3. Зафиксируйте изменения (`git commit -m 'Add some AmazingFeature'`)
4. Нажмите на ветку (`git push origin Feature/AmazingFeature`)
5. Открыть запрос на включение

---

## Отказ от ответственности

**Используйте этот инструмент на свой страх и риск. Всегда делайте резервные копии файлов сохранения перед внесением каких-либо изменений.**

Разработчики не несут ответственности за потерю данных сохранения или проблемы, которые могут возникнуть в результате использования этого инструмента.

---

## Поддерживать

- **Discord:** [Join us for support, base builds, and more!](https://discord.gg/sYcZwcT4cT)
- **GitHub Проблемы:** [Report a bug](https://github.com/deafdudecomputers/PalworldSaveTools/issues)
- **Документация:** [Wiki](https://github.com/deafdudecomputers/PalworldSaveTools/wiki) *(Currently in development)*

---

## Лицензия

Этот проект распространяется под лицензией MIT License — подробности см. в файле [LICENSE](LICENSE).

---

## Благодарности

- **Palworld** developed by Pocketpair, Inc.
- Спасибо всем участникам и членам сообщества, которые помогли улучшить этот инструмент.

---

<div align="center">

**Сделано с ❤️ для сообщества Palworld**

[⬆ Вернуться к началу](#palworldsavetools)

</div>
